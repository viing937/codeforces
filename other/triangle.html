<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<script>
    function getPar(par){
        var local_url = document.location.href; 
        var get = local_url.indexOf(par+"=");
        if ( get === -1 ){
            return false;   
        }   
        var get_par = local_url.slice(par.length + get + 1);    
        var nextPar = get_par.indexOf("&");
        if(nextPar !== -1){
            get_par = get_par.slice(0, nextPar);
        }
        return get_par;
    }
    window.onload = function(){
        var a = getPar("a"), b = getPar("b"), c = getPar("c");
        var form = document.getElementById("triangle");
            result = document.getElementById("result");
        form.a.value = a||"", form.b.value = b||"", form.c.value = c||"";
        if ( a || b || c ){
            if ( a === "" || b === "" || c === "" || isNaN(a) || isNaN(b) || isNaN(c) ){
                result.innerHTML = "输入不合法";
                return;
            }
            a = parseFloat(a), b = parseFloat(b), c = parseFloat(c);
            if ( a <= 0 || b <= 0 || c <= 0 ){
                result.innerHTML = "输入不合法";
                return;
            }
            if ( a+b <= c || a+c <= b || b+c <= a ){
                result.innerHTML = "不能构成三角形";
                return;
            }
            var s = (a+b+c)/2;
            var area = Math.sqrt(s*(s-a)*(s-b)*(s-c));
            result.innerHTML = "面积 = " + area.toFixed(2);
        }
    }
</script>
<style type="text/css">
    html, body{
        margin: 0px;
        padding: 0px;
        height: 500px;
    }
    .leftside{
        background: #E6E6E6;
        float: left;
        height: 100%;
        width: 240px;
    }
    .rightside{
        height: 100%;
        width: 100%;
    } 
</style>
</head>
<body>
<div class="leftside">
    <div style="text-align: center; margin: 15px 0 0 0">请输入三角形的三边长</div><br/>
    <form id="triangle" method="get">
        <label for="a">a =</label>
        <input type="text" name="a" autocomplete="off" /><br/>
        <label for="b">b =</label>
        <input type="text" name="b" autocomplete="off" /><br/>
        <label for="c">c =</label>
        <input type="text" name="c" autocomplete="off" /><br/>
        <input type="submit" value="计算" style="height: 40px; width: 50%; display: block; margin: auto">
    </form>
    <div id="result" style="text-align: center; margin: 15px 0 0 0">
    </div>
</div>
<div class="rightside">
    <canvas id="picture" style="height: 100%; width: 500px; border: 1px solid #d3d3d3">
    Your browser does not support the HTML5 canvas tag.</canvas>
</div>
</body>
</html>
